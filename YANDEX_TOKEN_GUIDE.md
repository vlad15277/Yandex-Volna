# Как получить токен Яндекс.Музыки

Токен - это более надежный способ авторизации в Яндекс.Музыке, чем логин/пароль.

## Способ 1: Через браузер (рекомендуется)

### Шаг 1: Войдите в Яндекс.Музыку
1. Откройте браузер и перейдите на [music.yandex.ru](https://music.yandex.ru)
2. Войдите в свой аккаунт

### Шаг 2: Откройте инструменты разработчика
1. Нажмите `F12` или `Ctrl+Shift+I` (Chrome/Firefox)
2. Перейдите на вкладку **"Application"** (Chrome) или **"Storage"** (Firefox)

### Шаг 3: Найдите токен
**В Chrome:**
1. В левой панели найдите **"Local Storage"**
2. Выберите **"https://music.yandex.ru"**
3. Найдите ключ `"access_token"` или `"token"`
4. Скопируйте значение

**В Firefox:**
1. В левой панели найдите **"Local Storage"**
2. Выберите **"https://music.yandex.ru"**
3. Найдите ключ `"access_token"` или `"token"`
4. Скопируйте значение

### Шаг 4: Альтернативный поиск в Cookies
Если токен не найден в Local Storage:
1. Перейдите на вкладку **"Cookies"**
2. Выберите **"https://music.yandex.ru"**
3. Найдите cookie с именем `"Session_id"` или `"yandexuid"`
4. Скопируйте значение

## Способ 2: Через Network (альтернативный)

1. Откройте инструменты разработчика (`F12`)
2. Перейдите на вкладку **"Network"**
3. Обновите страницу (`F5`)
4. Найдите запрос к API (обычно к `music.yandex.ru/api/`)
5. В заголовках запроса найдите `"Authorization"` или `"X-Yandex-Music-Client"`
6. Скопируйте токен из заголовка

## Способ 3: Через мобильное приложение

### Для Android:
1. Установите приложение Яндекс.Музыки
2. Войдите в аккаунт
3. Используйте инструменты разработчика или root-доступ для извлечения токена

### Для iOS:
1. Установите приложение Яндекс.Музыки
2. Войдите в аккаунт
3. Используйте инструменты разработчика для извлечения токена

## Настройка в проекте

1. Создайте файл `.env` в корне проекта
2. Добавьте токен:

```env
# Discord Bot Token
DISCORD_TOKEN=ваш_токен_бота

# Yandex Music Token
YANDEX_TOKEN=ваш_токен_яндекс_музыки

# Bot Configuration
PREFIX=!
MAX_QUEUE_SIZE=50
```

## Важные замечания

⚠️ **Безопасность:**
- Никогда не делитесь своим токеном
- Не публикуйте токен в публичных репозиториях
- Токен может истекать, в таком случае получите новый

⚠️ **Требования:**
- У вас должна быть активная подписка Яндекс.Музыки
- Токен должен быть действительным и не истекшим

## Проверка токена

После получения токена, запустите бота:

```bash
python run.py
```

Если токен правильный, вы увидите сообщение:
```
Успешная авторизация в Яндекс.Музыке через токен
```

## Устранение проблем

### "Ошибка авторизации через токен"
- Проверьте, что токен скопирован полностью
- Убедитесь, что токен не истек
- Получите новый токен

### "Токен не найден"
- Убедитесь, что вы вошли в Яндекс.Музыку в браузере
- Попробуйте другой браузер
- Проверьте, что у вас есть подписка

### "Доступ запрещен"
- Убедитесь, что у вас есть активная подписка
- Попробуйте получить новый токен
- Проверьте, что аккаунт не заблокирован

## Альтернативы

Если получение токена не удается, можно использовать:
1. Логин/пароль (менее надежно)
2. OAuth авторизацию (требует дополнительной настройки)
3. Публичное API (ограниченный функционал)
